webpackJsonp([0],{"0n1U":function(t,e){},"3PXA":function(t,e){},"4tRT":function(t,e,s){"use strict";var a=s("hnam"),i=function(t){if(Number(t.version.split(".")[0])>=2)t.mixin({beforeCreate:s});else{var e=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[s].concat(t.init):s,e.call(this,t)}}function s(){var t=this.$options;t.store?this.$store="function"==typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}},o="undefined"!=typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;
/**
 * vuex v3.0.1
 * (c) 2017 Evan You
 * @license MIT
 */function n(t,e){Object.keys(t).forEach(function(s){return e(t[s],s)})}var r=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var s=t.state;this.state=("function"==typeof s?s():s)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},r.prototype.addChild=function(t,e){this._children[t]=e},r.prototype.removeChild=function(t){delete this._children[t]},r.prototype.getChild=function(t){return this._children[t]},r.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},r.prototype.forEachChild=function(t){n(this._children,t)},r.prototype.forEachGetter=function(t){this._rawModule.getters&&n(this._rawModule.getters,t)},r.prototype.forEachAction=function(t){this._rawModule.actions&&n(this._rawModule.actions,t)},r.prototype.forEachMutation=function(t){this._rawModule.mutations&&n(this._rawModule.mutations,t)},Object.defineProperties(r.prototype,l);var c=function(t){this.register([],t,!1)};c.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},c.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,s){return t+((e=e.getChild(s)).namespaced?s+"/":"")},"")},c.prototype.update=function(t){!function t(e,s,a){0;s.update(a);if(a.modules)for(var i in a.modules){if(!s.getChild(i))return void 0;t(e.concat(i),s.getChild(i),a.modules[i])}}([],this.root,t)},c.prototype.register=function(t,e,s){var a=this;void 0===s&&(s=!0);var i=new r(e,s);0===t.length?this.root=i:this.get(t.slice(0,-1)).addChild(t[t.length-1],i);e.modules&&n(e.modules,function(e,i){a.register(t.concat(i),e,s)})},c.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),s=t[t.length-1];e.getChild(s).runtime&&e.removeChild(s)};var u;var _=function(t){var e=this;void 0===t&&(t={}),!u&&"undefined"!=typeof window&&window.Vue&&w(window.Vue);var s=t.plugins;void 0===s&&(s=[]);var a=t.strict;void 0===a&&(a=!1);var i=t.state;void 0===i&&(i={}),"function"==typeof i&&(i=i()||{}),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new c(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new u;var n=this,r=this.dispatch,l=this.commit;this.dispatch=function(t,e){return r.call(n,t,e)},this.commit=function(t,e,s){return l.call(n,t,e,s)},this.strict=a,p(this,i,[],this._modules.root),m(this,i),s.forEach(function(t){return t(e)}),u.config.devtools&&function(t){o&&(t._devtoolHook=o,o.emit("vuex:init",t),o.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){o.emit("vuex:mutation",t,e)}))}(this)},f={state:{configurable:!0}};function d(t,e){return e.indexOf(t)<0&&e.push(t),function(){var s=e.indexOf(t);s>-1&&e.splice(s,1)}}function v(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var s=t.state;p(t,s,[],t._modules.root,!0),m(t,s,e)}function m(t,e,s){var a=t._vm;t.getters={};var i={};n(t._wrappedGetters,function(e,s){i[s]=function(){return e(t)},Object.defineProperty(t.getters,s,{get:function(){return t._vm[s]},enumerable:!0})});var o=u.config.silent;u.config.silent=!0,t._vm=new u({data:{$$state:e},computed:i}),u.config.silent=o,t.strict&&function(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}(t),a&&(s&&t._withCommit(function(){a._data.$$state=null}),u.nextTick(function(){return a.$destroy()}))}function p(t,e,s,a,i){var o=!s.length,n=t._modules.getNamespace(s);if(a.namespaced&&(t._modulesNamespaceMap[n]=a),!o&&!i){var r=h(e,s.slice(0,-1)),l=s[s.length-1];t._withCommit(function(){u.set(r,l,a.state)})}var c=a.context=function(t,e,s){var a=""===e,i={dispatch:a?t.dispatch:function(s,a,i){var o=A(s,a,i),n=o.payload,r=o.options,l=o.type;return r&&r.root||(l=e+l),t.dispatch(l,n)},commit:a?t.commit:function(s,a,i){var o=A(s,a,i),n=o.payload,r=o.options,l=o.type;r&&r.root||(l=e+l),t.commit(l,n,r)}};return Object.defineProperties(i,{getters:{get:a?function(){return t.getters}:function(){return function(t,e){var s={},a=e.length;return Object.keys(t.getters).forEach(function(i){if(i.slice(0,a)===e){var o=i.slice(a);Object.defineProperty(s,o,{get:function(){return t.getters[i]},enumerable:!0})}}),s}(t,e)}},state:{get:function(){return h(t.state,s)}}}),i}(t,n,s);a.forEachMutation(function(e,s){!function(t,e,s,a){(t._mutations[e]||(t._mutations[e]=[])).push(function(e){s.call(t,a.state,e)})}(t,n+s,e,c)}),a.forEachAction(function(e,s){var a=e.root?s:n+s,i=e.handler||e;!function(t,e,s,a){(t._actions[e]||(t._actions[e]=[])).push(function(e,i){var o,n=s.call(t,{dispatch:a.dispatch,commit:a.commit,getters:a.getters,state:a.state,rootGetters:t.getters,rootState:t.state},e,i);return(o=n)&&"function"==typeof o.then||(n=Promise.resolve(n)),t._devtoolHook?n.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):n})}(t,a,i,c)}),a.forEachGetter(function(e,s){!function(t,e,s,a){if(t._wrappedGetters[e])return void 0;t._wrappedGetters[e]=function(t){return s(a.state,a.getters,t.state,t.getters)}}(t,n+s,e,c)}),a.forEachChild(function(a,o){p(t,e,s.concat(o),a,i)})}function h(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function A(t,e,s){var a;return null!==(a=t)&&"object"==typeof a&&t.type&&(s=e,e=t,t=t.type),{type:t,payload:e,options:s}}function w(t){u&&t===u||i(u=t)}f.state.get=function(){return this._vm._data.$$state},f.state.set=function(t){0},_.prototype.commit=function(t,e,s){var a=this,i=A(t,e,s),o=i.type,n=i.payload,r=(i.options,{type:o,payload:n}),l=this._mutations[o];l&&(this._withCommit(function(){l.forEach(function(t){t(n)})}),this._subscribers.forEach(function(t){return t(r,a.state)}))},_.prototype.dispatch=function(t,e){var s=this,a=A(t,e),i=a.type,o=a.payload,n={type:i,payload:o},r=this._actions[i];if(r)return this._actionSubscribers.forEach(function(t){return t(n,s.state)}),r.length>1?Promise.all(r.map(function(t){return t(o)})):r[0](o)},_.prototype.subscribe=function(t){return d(t,this._subscribers)},_.prototype.subscribeAction=function(t){return d(t,this._actionSubscribers)},_.prototype.watch=function(t,e,s){var a=this;return this._watcherVM.$watch(function(){return t(a.state,a.getters)},e,s)},_.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},_.prototype.registerModule=function(t,e,s){void 0===s&&(s={}),"string"==typeof t&&(t=[t]),this._modules.register(t,e),p(this,this.state,t,this._modules.get(t),s.preserveState),m(this,this.state)},_.prototype.unregisterModule=function(t){var e=this;"string"==typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var s=h(e.state,t.slice(0,-1));u.delete(s,t[t.length-1])}),v(this)},_.prototype.hotUpdate=function(t){this._modules.update(t),v(this,!0)},_.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(_.prototype,f);var g=k(function(t,e){var s={};return x(e).forEach(function(e){var a=e.key,i=e.val;s[a]=function(){var e=this.$store.state,s=this.$store.getters;if(t){var a=E(this.$store,"mapState",t);if(!a)return;e=a.context.state,s=a.context.getters}return"function"==typeof i?i.call(this,e,s):e[i]},s[a].vuex=!0}),s}),b=k(function(t,e){var s={};return x(e).forEach(function(e){var a=e.key,i=e.val;s[a]=function(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var a=this.$store.commit;if(t){var o=E(this.$store,"mapMutations",t);if(!o)return;a=o.context.commit}return"function"==typeof i?i.apply(this,[a].concat(e)):a.apply(this.$store,[i].concat(e))}}),s}),C=k(function(t,e){var s={};return x(e).forEach(function(e){var a=e.key,i=e.val;i=t+i,s[a]=function(){if(!t||E(this.$store,"mapGetters",t))return this.$store.getters[i]},s[a].vuex=!0}),s}),y=k(function(t,e){var s={};return x(e).forEach(function(e){var a=e.key,i=e.val;s[a]=function(){for(var e=[],s=arguments.length;s--;)e[s]=arguments[s];var a=this.$store.dispatch;if(t){var o=E(this.$store,"mapActions",t);if(!o)return;a=o.context.dispatch}return"function"==typeof i?i.apply(this,[a].concat(e)):a.apply(this.$store,[i].concat(e))}}),s});function x(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function k(t){return function(e,s){return"string"!=typeof e?(s=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,s)}}function E(t,e,s){return t._modulesNamespaceMap[s]}var $={Store:_,install:w,version:"3.0.1",mapState:g,mapMutations:b,mapGetters:C,mapActions:y,createNamespacedHelpers:function(t){return{mapState:g.bind(null,t),mapGetters:C.bind(null,t),mapMutations:b.bind(null,t),mapActions:y.bind(null,t)}}};s("7+uW").a.use($);var B={name:"Panel",store:new $.Store({state:{old_data_list:[]},mutations:{initial_old_data:function(t,e){t.old_data_list=e}},getters:{get_old_data:function(t){return function(e){return t.old_data_list[e]}}}}),components:{v_tab:a.a},data:function(){return{lans:[{lan:"11111",isActive:!0,is_auto:!1,id:"11111",ip:"11111",subnet_mask:"11111",gateway:"11111",dns:"11111",mac:"11111"},{lan:"22222",id:"22222",isActive:!1,is_auto:!1,ip:"22222",subnet_mask:"22222",gateway:"22222",dns:"22222",mac:"22222"}],alert:{success:{message:"",is_show:!1},fail:{message:"获取配置失败",is_show:!1}}}},methods:{activate:function(t){this.lans.forEach(function(t,e,s){t.isActive=!1}),this.lans[t].isActive=!0}},beforeCreate:function(){var t=this;t.$ajax.get(t.host+"/api/operation_system/get_lans").then(function(e){t.lans=e.data,t.$store.commit("initial_old_data",t.utils.copy(t.lans))}).catch(function(e){t.$root.alert.fail.message="获取网络配置失败",t.$root.alert.fail.is_show=!0})}},R={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ip-setting-container"},[s("header",{staticClass:"w-100 position-relative"},[s("h6",{staticClass:"position-absolute"},[t._v("网络设置")]),t._v(" "),s("div",{staticClass:"text-muted position-absolute",on:{click:function(e){t.$emit("close_ip_setting")}}},[t._v("×\n    ")])]),t._v(" "),s("div",{staticClass:"content"},[s("b-nav",{attrs:{tabs:""}},t._l(t.lans,function(e,a){return s("b-nav-item",{key:e.lan,attrs:{active:e.isActive},on:{click:function(e){t.activate(a)}}},[t._v(t._s(e.lan))])})),t._v(" "),t._l(t.lans,function(e,a){return[e.isActive?[s("v_tab",{key:e.id,attrs:{lan_data:t.lans[a],index:a}})]:t._e()]})],2)])},staticRenderFns:[]};var O={name:"screen_set",components:{},data:function(){return{current_resolution:"",resolution_list:[],selected:"",has_error:!1}},methods:{submit:function(){var t=this;t.selected?t.$ajax.post(t.host+"/api/operation_system/set_resolution",t.$qs.stringify({selected:t.selected})).then(function(e){t.$root.alert.success.message="操作成功",t.$root.alert.success.is_show=!0,t.has_error=!1,t.$emit("close_resolution_setting")}).catch(function(e){t.$root.alert.fail.message="操作失败",t.$root.alert.fail.is_show=!0}):t.has_error=!0}},beforeCreate:function(){var t=this;t.$ajax.get(t.host+"/api/operation_system/get_resolution").then(function(e){t.current_resolution=e.data[0],e.data.splice(0,1),t.resolution_list=e.data}).catch(function(e){console.error("SERVER----------:"+e.response.data.content),t.$root.alert.fail.message="获取分辨率失败",t.$root.alert.fail.is_show=!0})}},P={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("header",{staticClass:"w-100 position-relative"},[s("h6",{staticClass:"position-absolute"},[t._v("分辨率设置")]),t._v(" "),s("div",{staticClass:"text-muted position-absolute",on:{click:function(e){t.$emit("close_resolution_setting")}}},[t._v("×\n    ")])]),t._v(" "),s("article",[s("form",[s("div",{staticClass:"form-group "},[s("label",{staticClass:"control-label"},[t._v("当前分辨率：")]),t._v(" "),s("p",{staticClass:"form-control-static"},[t._v(t._s(t.current_resolution))])]),t._v(" "),s("div",{staticClass:"form-group ",class:{"has-error":t.has_error}},[s("label",{staticClass:"control-label"},[t._v("选择分辨率：")]),t._v(" "),s("select",{directives:[{name:"model",rawName:"v-model",value:t.selected,expression:"selected"}],staticClass:"form-control",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.selected=e.target.multiple?s:s[0]}}},[s("option",{attrs:{value:"",disabled:""}},[t._v("请选择")]),t._v(" "),t._l(t.resolution_list,function(e){return s("option",[t._v(t._s(e))])})],2),t._v(" "),t.has_error?s("div",{staticClass:"help-block text-danger"},[t._v("请选择分辨率")]):t._e()])])]),t._v(" "),s("footer",[s("button",{staticClass:"btn btn-sm btn-default",attrs:{type:"button"},on:{click:function(e){t.$emit("close_resolution_setting")}}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"btn btn-sm btn-primary",attrs:{type:"button"},on:{click:t.submit}},[t._v("保存")])])])},staticRenderFns:[]};var M={name:"computer_setting",components:{Panel:s("VU/8")(B,R,!1,function(t){s("Qkt4")},"data-v-56a98817",null).exports,screen_set:s("VU/8")(O,P,!1,function(t){s("3PXA")},"data-v-31efd5c6",null).exports},props:{button_homes:{type:Boolean,default:!1,required:!0}},data:function(){return{vm_server_set_show:!1,ip_setting_show:!1,resolution_setting_show:!1,modal_background_show:!1,form:{host:{val:"",is_invalid:!1,help_text:""},port:{val:"",is_invalid:!1,help_text:""}}}},methods:{set_vm_server:function(){var t=this;if(t.form.host.val.split(".").forEach(function(e,s,a){if(!(0<=Number(e)<1e3))return t.$root.alert.fail.message="服务器地址格式不正确",void(t.$root.alert.fail.is_show=!0)}),!(0<Number(t.form.port.val)<=65535))return t.$root.alert.fail.message="端口必须在1~65535内",void(t.$root.alert.fail.is_show=!0);t.$ajax.get("/api/other_operation/set_vm_server",{params:{vm_server_host:t.form.host.val,vm_server_port:t.form.port.val}}).then(function(e){t.$root.alert.success.message="设置默认虚机服务器成功",t.$root.alert.success.is_show=!0,t.$refs.vm_server_set.hide()}).catch(function(e){401!=e.response.status&&(console.log(e.response.data),t.$root.alert.fail.message=resp.data.content,t.$root.alert.fail.is_show=!0)})},show_my_modal:function(t){this[t]=!0,this.modal_background_show=!0},close_my_modal:function(t){this[t]=!1,this.modal_background_show=!1}},beforeCreate:function(){}},Q={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my_container"},[t.button_homes?s("div",{staticClass:"buttons-home"},[s("div",{staticClass:"vms icon hvr-grow",on:{click:function(e){t.vm_server_set_show=!0}}}),t._v(" "),s("div",{staticClass:"ip_set icon hvr-grow",on:{click:function(e){t.show_my_modal("ip_setting_show")}}}),t._v(" "),s("div",{staticClass:"resolution icon hvr-grow",on:{click:function(e){t.show_my_modal("resolution_setting_show")}}})]):t._e(),t._v(" "),s("b-modal",{ref:"vm_server_set",staticClass:"my-modal",attrs:{centered:"","no-close-on-backdrop":!0},model:{value:t.vm_server_set_show,callback:function(e){t.vm_server_set_show=e},expression:"vm_server_set_show"}},[s("div",{staticClass:"w-100",attrs:{slot:"modal-title"},slot:"modal-title"},[s("h3",[t._v("服务器设置")])]),t._v(" "),s("div",{attrs:{slot:"modal-header-close"},slot:"modal-header-close"},[s("button",{staticClass:"close",staticStyle:{position:"absolute",top:"1em",right:"1em"},attrs:{type:"button","aria-label":"Close"}},[t._v("×\n      ")])]),t._v(" "),s("form",{staticClass:"w-100"},[s("div",{staticClass:"input w-100 position-relative"},[s("label",{staticClass:"w-25 position-relative"},[t._v("服务器地址：")]),t._v(" "),s("div",{staticClass:"w-75 in_help position-absolute"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.host.val,expression:"form.host.val"}],staticClass:"form-control form-control-sm w-100",class:{"is-invalid":t.form.host.is_invalid},attrs:{type:"text",placeholder:""},domProps:{value:t.form.host.val},on:{input:function(e){e.target.composing||t.$set(t.form.host,"val",e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback w-100"},[t._v("\n            "+t._s(t.form.host.help_text)+"\n          ")])])]),t._v(" "),s("div",{staticClass:"input w-100 position-relative"},[s("label",{staticClass:"w-25 position-relative"},[t._v("端口：")]),t._v(" "),s("div",{staticClass:"w-75 in_help position-absolute"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.port.val,expression:"form.port.val"}],staticClass:"form-control form-control-sm w-100",class:{"is-invalid":t.form.port.is_invalid},attrs:{type:"text",placeholder:""},domProps:{value:t.form.port.val},on:{input:function(e){e.target.composing||t.$set(t.form.port,"val",e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(t.form.port.help_text)+"\n          ")])])])]),t._v(" "),s("div",{staticClass:"w-100 footer text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("button",{staticClass:"btn btn-default ",on:{click:function(e){t.vm_server_set_show=!1}}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"green_button btn btn-primary ",on:{click:t.set_vm_server}},[t._v("提交")])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.modal_background_show,expression:"modal_background_show"}],staticClass:"modal_background"},[s("transition",{attrs:{"enter-active-class":"animated fadeInDown"}},[t.ip_setting_show?s("panel",{staticClass:"ip_setting",on:{close_ip_setting:function(e){t.close_my_modal("ip_setting_show")}}}):t._e()],1),t._v(" "),s("transition",{attrs:{"enter-active-class":"animated fadeInDown"}},[t.resolution_setting_show?s("screen_set",{staticClass:"resolution_setting",on:{close_resolution_setting:function(e){t.close_my_modal("resolution_setting_show")}}}):t._e()],1)],1)],1)},staticRenderFns:[]};var N=s("VU/8")(M,Q,!1,function(t){s("Uq4R")},"data-v-6743e79e",null);e.a=N.exports},"8WYa":function(t,e){},B7pO:function(t,e){},"DXV+":function(t,e){t.exports="data:image/png;base64,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"},Dd8w:function(t,e,s){"use strict";e.__esModule=!0;var a,i=s("woOf"),o=(a=i)&&a.__esModule?a:{default:a};e.default=o.default||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t}},FAIt:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("i7jE"),i=s("Vxz2"),o=s("4tRT"),n=s("woOf"),r=s.n(n),l="";function c(t,e,s){console.log("request"),t.$ajax.get("/api/common_api/api.ServerSPICEConsole",{params:{configId:e.configId,systemType:t.utils.get_system_typenum()}}).then(function(s){if("success"==s.data.errorInfo)switch(s.data.status){case"ERROR":t.linking_vm.text="错误,虚机处于错误状态";break;case"BUILD":t.linking_vm.text="创建中,请再次发请求到这个地址获取结果";break;case"PAUSE":t.linking_vm.text="虚机暂停,请再次发请求到这个地址获取结果";break;case"SHUTOFF":t.linking_vm.text="关闭虚机,请再次发送请求到这个这个地址获取结果";break;case"REBOOT":t.linking_vm.text="软重启中,请再次发请求到这个地址获取结果";break;case"HARD_REBOOT":t.linking_vm.text="硬重启中,请再次发请求到这个地址获取结果";break;case"REBUILD":t.linking_vm.text="虚拟机重建中,请再次发请求到这个地址获取结果";break;case"BACKUP":t.linking_vm.text="虚拟机备份中,请关闭请求";break;case"ACTIVE":t.linking_vm.text="活动中,可以使用",t.$ajax.get("/api/operation_system/link_vm",{params:{configId:e.configId,vm_name:e.sConfigName}}).then(function(t){console.log("连接虚机成功")}).catch(function(e){401!=e.response.status&&(t.$root.alert.fail.message="连接虚机失败",t.$root.alert.fail.is_show=!0)}).finally(function(){t.close_vm_status()});break;default:t.linking_vm.text="没有此状态"}else t.$refs.vm_status.hide(),t.$root.alert.fail.message=s.data.errorinfo,t.$root.alert.fail.is_show=!0,window.clearInterval(l);t.linking_vm=r()(t.linking_vm,s.data)}).catch(function(e){401!=e.response.status&&(console.log(e.response.data),t.$root.alert.fail.message="服务器发生错误，请联系管理员",t.$root.alert.fail.is_show=!0)})}var u={name:"vm_list",components:{spinner:s("UG4O").a},data:function(){return{vm_list:[],linking_vm:{is_loading:!0,status_zh:"错误",status:"ERROR",errorInfo:"success",console:"",text:""},menu_data:{is_show:!1,position:{top:"0px",left:"0px"}},right_click_vm:{}}},computed:{},methods:{reboot_vm:function(){var t=this;t.$refs.menu.show=!1,t.menu_data.is_show=!1,t.$ajax.get("/api/common_api/api.ConsoleOperate",{params:{configId:t.right_click_vm.configId,operate:3,systemType:t.utils.get_system_typenum()}}).then(function(e){JSON.parse(e.data.status)?(t.$root.alert.success.message="重启虚机成功",t.$root.alert.success.is_show=!0):(t.$root.alert.fail.message=e.data.errorinfo,t.$root.alert.fail.is_show=!0)}).catch(function(t){t.response.status})},set_as_default:function(){var t=this;t.$refs.menu.show=!1,t.menu_data.is_show=!1,t.conf.default_vm=t.right_click_vm.configId,t.$ajax.get("/api/account/set_default_vm",{params:{default_vm:t.right_click_vm.configId,default_vm_name:t.right_click_vm.sConfigName}}).then(function(e){t.$root.alert.success.message="设置默认虚机成功",t.$root.alert.success.is_show=!0}).catch(function(t){})},open_menu:function(t){var e=this;e.right_click_vm=t,e.menu_data.position.left=window.event.clientX+"px",e.menu_data.position.top=window.event.clientY+"px",e.menu_data.is_show=!0,e.$refs.menu.show=!0},close_menu:function(){this.$refs.menu.show=!1,this.menu_data.is_show=!1},reload:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:NaN;t||(t=this),t.$ajax.get("/api/common_api/api.list",{}).then(function(e){"success"==e.data.errorinfo?t.vm_list=e.data.list:(t.$root.alert.fail.message=e.data.errorinfo,t.$root.alert.fail.is_show=!0)}).catch(function(e){401!=e.response.status&&(console.log(e.response.data),t.$root.alert.fail.message="获取虚机列表失败",t.$root.alert.fail.is_show=!0)})},vm_ready:function(t){var e=this;e.$ajax.get("/api/common_api/api.ServerSPICEConsole",{params:{configId:t.configId,systemType:e.utils.get_system_typenum()}}).then(function(s){"success"==s.data.errorInfo?(e.$refs.vm_status.show(),c(e,t,s.data.console),e.link_to_vm(t,s.data.console)):(e.$root.alert.fail.message=s.data.status_zh,e.$root.alert.fail.is_show=!0,console.log("server error: "+s.data.errorInfo)),e.linking_vm=r()(e.linking_vm,s.data)}).catch(function(t){401!=t.response.status&&(e.$root.alert.fail.message="服务器发生错误，请联系管理员",e.$root.alert.fail.is_show=!0)}).finally(function(){return e.$root.is_loading=!1})},link_to_vm:function(t,e){var s=this;l=window.setInterval(function(){return c(s,t)},2e3)},close_vm_status:function(){this.$refs.vm_status.hide(),window.clearInterval(l)}},beforeCreate:function(){var t=this;t.$options.methods.reload(t);var e=t.utils.getCookie("default_vm");e&&t.$ajax.get("/api/common_api/api.ConsoleOperate",{params:{configId:e,operate:1,systemType:t.utils.get_system_typenum()}}).then(function(e){JSON.parse(e.data.status)?(t.$root.alert.success.message="启动("+t.utils.getCookie("default_vm_name")+")虚机成功",t.$root.alert.success.is_show=!0):(t.$root.alert.fail.message="虚机"+t.utils.getCookie("default_vm_name")+"："+e.data.errorinfo,t.$root.alert.fail.is_show=!0)}).catch(function(t){})}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my_container"},[t._l(t.vm_list,function(e,a){return s("div",{staticClass:"vm text-center d-inline-block"},[s("div",{staticClass:"icon hvr-grow",class:["icon_"+a%3],on:{dblclick:function(s){t.vm_ready(e)},contextmenu:function(s){s.stopPropagation(),s.preventDefault(),t.open_menu(e)}}},[s("div",{class:[e.iconName]})]),t._v(" "),s("div",{staticClass:"name text-center text-white"},[t._v(t._s(e.sConfigName))])])}),t._v(" "),s("b-modal",{ref:"vm_status",attrs:{size:"sm","no-close-on-backdrop":"","no-close-on-esc":"",centered:"","hide-footer":"","hide-header-close":"",title:"状态提示"}},[s("div",{staticClass:"w-100 position-relative"},[s("spinner",{staticClass:"mr-2 position-relative",staticStyle:{left:"2px"}}),t._v(" "),s("h6",{staticClass:"m-0 position-absolute",staticStyle:{top:"6px",left:"37px"}},[t._v(t._s(t.linking_vm.text))])],1),t._v(" "),s("b-btn",{staticClass:"mt-3",attrs:{variant:"outline-secondary",block:""},on:{click:t.close_vm_status}},[t._v("取消")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.menu_data.is_show,expression:"menu_data.is_show"}],staticClass:"menu_background",on:{click:function(e){return e.target!==e.currentTarget?null:t.close_menu(e)},contextmenu:function(e){return"button"in e||!t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])?"button"in e&&0!==e.button?null:e.target!==e.currentTarget?null:t.close_menu(e):null}}},[s("b-collapse",{ref:"menu",style:t.menu_data.position,attrs:{id:"menu"}},[s("b-list-group",{attrs:{flush:""}},[s("b-list-group-item",{attrs:{href:"#"},on:{click:t.reboot_vm}},[t._v("重启")]),t._v(" "),s("b-list-group-item",{attrs:{href:"#"},on:{click:t.set_as_default}},[t._v("设为默认")])],1)],1)],1)],2)},staticRenderFns:[]};var f=s("VU/8")(u,_,!1,function(t){s("0n1U")},"data-v-3ec8306e",null).exports,d={name:"HomePage",components:{bd_head:a.a,bd_foot:i.a,computer_setting:o.a,vm_list:f},data:function(){return{vm_show:!0}},computed:{systemType:function(){this.utils.get_system_typenum()},button_homes:function(){return!this.vm_show},c_vm_show:function(){return this.vm_show},c_modalShow:function(){return this.modalShow}},methods:{},beforeCreate:function(){}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-100 h-100 p-3 my-container animated bounceInDown"},[s("bd_head",{attrs:{show_reload_vm_list:t.c_vm_show,show_computer_setting:t.c_vm_show,show_reset_pass:!0,show_exit:!0,show_back:!t.c_vm_show,show_shutdown:!0},on:{reload_vm_list:function(e){t.$refs.vm_list.reload(t.$refs.vm_list)},computer_setting:function(e){t.vm_show=!1},back:function(e){t.vm_show=!0}}}),t._v(" "),s("article",{staticClass:"w-100 text-center"},[s("h1",{staticClass:"w-100 text-center"},[t._v("蓝盾云桌面管理系统")]),t._v(" "),s("computer_setting",{attrs:{button_homes:t.button_homes}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.vm_show,expression:"vm_show"}],staticClass:"buttons-vm ccw_scroll"},[s("vm_list",{ref:"vm_list"})],1)],1),t._v(" "),s("bd_foot")],1)},staticRenderFns:[]};var m=s("VU/8")(d,v,!1,function(t){s("Q1Aw")},"data-v-37f0c682",null);e.default=m.exports},JJJR:function(t,e){},Q1Aw:function(t,e){},QjQJ:function(t,e){},Qkt4:function(t,e){},R4wc:function(t,e,s){var a=s("kM2E");a(a.S+a.F,"Object",{assign:s("To3L")})},To3L:function(t,e,s){"use strict";var a=s("lktj"),i=s("1kS7"),o=s("NpIQ"),n=s("sB3e"),r=s("MU5D"),l=Object.assign;t.exports=!l||s("S82l")(function(){var t={},e={},s=Symbol(),a="abcdefghijklmnopqrst";return t[s]=7,a.split("").forEach(function(t){e[t]=t}),7!=l({},t)[s]||Object.keys(l({},e)).join("")!=a})?function(t,e){for(var s=n(t),l=arguments.length,c=1,u=i.f,_=o.f;l>c;)for(var f,d=r(arguments[c++]),v=u?a(d).concat(u(d)):a(d),m=v.length,p=0;m>p;)_.call(d,f=v[p++])&&(s[f]=d[f]);return s}:l},Uq4R:function(t,e){},V3tA:function(t,e,s){s("R4wc"),t.exports=s("FeBl").Object.assign},VPYY:function(t,e){},Vxz2:function(t,e,s){"use strict";var a={render:function(){var t=this.$createElement;return(this._self._c||t)("p",[this._v("蓝盾信息安全技术股份有限公司  版权所有  Copyright © 1998-2018 Bluedon.All Rights Reserved")])},staticRenderFns:[]};var i=s("VU/8")({name:"copy_right",components:{},data:function(){return{}},methods:{},beforeCreate:function(){}},a,!1,function(t){s("B7pO")},"data-v-ab23f2ea",null).exports,o=s("ZLna"),n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("header",{staticClass:"w-100 position-relative"},[s("h6",{staticClass:"position-absolute"},[t._v("连接网络")]),t._v(" "),s("div",{staticClass:"text-muted position-absolute",on:{click:function(e){t.$emit("cancel")}}},[t._v("×\n    ")])]),t._v(" "),s("article",[s("div",{staticClass:"title"},[s("div",{staticClass:"icon"}),t._v(" "),s("div",{staticClass:"text"},[t._v("wifi网络 "+t._s(t.wifi.name)+" 需要"+t._s(t.wifi.key_type)+"密码")])]),t._v(" "),s("form",{attrs:{action:""}},[s("section",{staticClass:"password"},[s("label",{attrs:{for:"password"}},[t._v("密码：")]),t._v(" "),s("input",{staticClass:"form-control",attrs:{type:t.password_type,id:"password",placeholder:"Password"}})]),t._v(" "),s("section",{staticClass:"checkboxs"},[s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pwd_is_show,expression:"pwd_is_show"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.pwd_is_show)?t._i(t.pwd_is_show,null)>-1:t.pwd_is_show},on:{change:function(e){var s=t.pwd_is_show,a=e.target,i=!!a.checked;if(Array.isArray(s)){var o=t._i(s,null);a.checked?o<0&&(t.pwd_is_show=s.concat([null])):o>-1&&(t.pwd_is_show=s.slice(0,o).concat(s.slice(o+1)))}else t.pwd_is_show=i}}}),t._v(" 显示密码\n        ")]),t._v(" "),s("label",[s("input",{directives:[{name:"model",rawName:"v-model",value:t.wifi.remember_pwd,expression:"wifi.remember_pwd"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.wifi.remember_pwd)?t._i(t.wifi.remember_pwd,null)>-1:t.wifi.remember_pwd},on:{change:function(e){var s=t.wifi.remember_pwd,a=e.target,i=!!a.checked;if(Array.isArray(s)){var o=t._i(s,null);a.checked?o<0&&t.$set(t.wifi,"remember_pwd",s.concat([null])):o>-1&&t.$set(t.wifi,"remember_pwd",s.slice(0,o).concat(s.slice(o+1)))}else t.$set(t.wifi,"remember_pwd",i)}}}),t._v(" 记住该网络\n        ")])])])]),t._v(" "),s("footer",[s("button",{staticClass:"btn btn-default btn-sm",attrs:{type:"button"},on:{click:function(e){t.$emit("cancel")}}},[t._v(" 取消")]),t._v(" "),s("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:t.submit}},[t._v(" 加入")])])])},staticRenderFns:[]};var r=function(t){s("8WYa")},l=s("VU/8")(o.a,n,!1,r,"data-v-0250e6ce",null).exports,c=s("L/hj"),u={name:"wifi_icon",components:{},props:{wifi_data:{type:Object,required:!0,validator:function(t){return c.a.validate_template(t,{is_lock:!0,strength:1,is_connected:!1},"wifi_icon")}}},data:function(){return{wifi:this.$props.wifi_data}},computed:{strengthLevel:function(){return this.wifi.strength>0?"strength-"+this.wifi.strength:""},is_connected:function(){return this.wifi_data.is_connected?"strength-ready":"strength-no"}},methods:{},beforeCreate:function(){}},_={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"wifi-icon",class:[t.strengthLevel,t.is_connected]},[s("span",{staticClass:"wifi-1"}),t._v(" "),s("span",{staticClass:"wifi-2"}),t._v(" "),s("span",{staticClass:"wifi-3"}),t._v(" "),s("span",{staticClass:"wifi-4"}),t._v(" "),t.wifi.is_lock?s("span",{staticClass:"lock"}):t._e()])},staticRenderFns:[]};function f(t){t.$ajax.get(t.host+"/api/operation_system/get_wifis").then(function(e){t.wifi_list=e.data;for(var s=0;s<t.wifi_list.length;s++)if(t.wifi_list[s].is_connected){var a=t.wifi_list.splice(s,1)[0];t.wifi_list.splice(0,0,a);break}}).catch(function(e){t.$root.alert.fail.message="获取wifi列表失败",t.$root.alert.fail.is_show=!0}).finally(function(){})}var d={name:"Wifi",components:{wifi_icon:s("VU/8")(u,_,!1,function(t){s("q/yD")},"data-v-0948acf6",null).exports},data:function(){return{wifi_list:[]}},methods:{get_wifi_list:function(){f(this)},open_wifi_link:function(t){this.$emit("open_wifi_connect_win",t),this.$emit("close_wifi_list")},disconnect_wifi:function(t){var e=this;e.$ajax.post(e.host+"/api/operation_system/disconnect_wifi",e.$qs.stringify(t)).then(function(e){t.is_connected=!1,console.log(e)}).catch(function(t){e.$root.alert.fail.message="断开wifi失败，请联系管理员",e.$root.alert.fail.is_show=!0})}},beforeCreate:function(){f(this)}},v={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container-fluid"},[s("header",{staticClass:"w-100 position-relative"},[s("h6",{staticClass:"position-absolute"},[t._v("可用网络")]),t._v(" "),s("div",{staticClass:"position-absolute",on:{click:t.get_wifi_list}})]),t._v(" "),s("ul",{staticClass:"w-100"},t._l(t.wifi_list,function(e){return s("li",[s("wifi_icon",{staticClass:"wifi_icon",attrs:{wifi_data:e}}),t._v(" "),s("div",{staticClass:"text"},[t._v(t._s(e.name))]),t._v(" "),e.is_connected?s("div",{staticClass:"connected",on:{click:function(s){t.disconnect_wifi(e)}}}):t._e(),t._v(" "),e.is_connected?t._e():s("div",{staticClass:"can_connect",on:{click:function(s){t.open_wifi_link(e)}}})],1)}))])},staticRenderFns:[]};var m={name:"bd_foot",components:{copy_right:i,wifi_connect_win:l,Wifi:s("VU/8")(d,v,!1,function(t){s("QjQJ")},"data-v-21789d96",null).exports},data:function(){return{wifi_list_show:!1,time:"",wifi_connection_show:!1,wifi:{name:"",is_lock:!0,key_type:"",strength:0,password:"",remember_pwd:!1}}},methods:{open_wifi_connect_win:function(t){this.wifi=t,this.wifi_connection_show=!0}},beforeCreate:function(){var t=this;window.setInterval(function(){t.time=(new Date).toLocaleString()},1e3)}},p={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my_container"},[t.wifi_list_show?s("div",{staticClass:"wifi_list_container",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.wifi_list_show=!1}}},[s("wifi",{staticClass:"wifi_list",on:{close_wifi_list:function(e){t.wifi_list_show=!1},open_wifi_connect_win:t.open_wifi_connect_win}})],1):t._e(),t._v(" "),t.wifi_connection_show?s("div",{staticClass:"wifi_connect_win_container"},[s("wifi_connect_win",{attrs:{prop_wifi:t.wifi},on:{cancel:function(e){t.wifi_connection_show=!1}}})],1):t._e(),t._v(" "),s("footer",{},[s("copy_right",{staticClass:"text-center copy_right"}),t._v(" "),s("div",{staticClass:"buttons"},[s("div",{staticClass:"left"},[t._v("版本：1.0.2")]),t._v(" "),s("div",{staticClass:"right"},[s("div",{staticClass:"wifi_icon",on:{click:function(e){t.wifi_list_show=!0}}}),t._v(" "),s("div",{staticClass:"time"},[t._v(t._s(t.time))])])])],1)])},staticRenderFns:[]};var h=s("VU/8")(m,p,!1,function(t){s("VPYY")},"data-v-b111ba5c",null);e.a=h.exports},ZLna:function(t,e,s){"use strict";(function(t){s("hnam");var a=s("L/hj");e.a={name:"wifi_connect_win",components:{},prop:{prop_wifi:{type:Object,required:!0,validator:function(t){return a.a.validate_template(t,{name:"别连我dsfasefwagewt",is_lock:!0,key_type:"WPA2",strength:1,password:""},"wifi")}}},data:function(){return{wifi:{name:"",is_lock:!0,key_type:"",strength:0,password:"",remember_pwd:!1},pwd_is_show:!1,alert:{success:{message:"连接wifi成功",is_show:!1},fail:{message:"连接wifi失败",is_show:!1}}}},computed:{password_type:function(){return this.pwd_is_show?"text":"password"}},methods:{submit:function(){var e=this;e.wifi.password=t("#password").val(),e.$ajax.post(e.host+"/api/operation_system/connect_wifi",e.$qs.stringify(e.wifi)).then(function(t){e.$root.alert.success.message="连接wifi"+e.wifi.name+"成功",e.$root.alert.success.is_show=!0,e.$emit("cancel")}).catch(function(t){e.$root.alert.fail.message="连接wifi"+e.wifi.name+"失败",e.$root.alert.fail.is_show=!0})}},mounted:function(){this.wifi=this.$attrs.prop_wifi}}}).call(e,s("l/Rs"))},hnam:function(t,e,s){"use strict";var a=s("nKSx"),i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w-100 inline-column-center-center flex-nowrap"},[a("form",{staticClass:"w-100"},[a("header",[a("div",{staticClass:"img_text"},[a("img",{staticStyle:{width:"1em",height:"1em"},attrs:{src:s("DXV+"),alt:""}}),t._v(" "),a("span",[t._v(t._s(t.lan.id))])]),t._v(" "),a("div",{staticClass:"text text-left"},[t._v("\n        MAC："+t._s(t.lan.mac)+"\n      ")])]),t._v(" "),a("div",{staticClass:"form-group is_auto"},[a("div",{staticClass:"w-100 text-left"},[a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lan.is_auto,expression:"lan.is_auto"}],attrs:{type:"radio",name:"optionsRadios",id:this.lan.lan+"_ip_auto"},domProps:{value:!0,checked:t._q(t.lan.is_auto,!0)},on:{change:function(e){t.$set(t.lan,"is_auto",!0)}}}),t._v("\n            自动获取IP地址\n          ")])]),t._v(" "),a("div",{staticClass:"radio"},[a("label",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lan.is_auto,expression:"lan.is_auto"}],attrs:{type:"radio",name:"optionsRadios",id:this.lan.lan+"_ip_manual",checked:""},domProps:{value:!1,checked:t._q(t.lan.is_auto,!1)},on:{change:function(e){t.$set(t.lan,"is_auto",!1)}}}),t._v("\n            使用下面的IP地址\n          ")])])])]),t._v(" "),a("div",{staticClass:"form-group input-form-group"},[a("label",{staticClass:" control-label",attrs:{for:this.lan.lan+"_ip"}},[t._v("IP地址：")]),t._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lan.ip,expression:"lan.ip"}],staticClass:"form-control",attrs:{type:"text",id:this.lan.lan+"_ip",name:"ip",placeholder:t.lan.ip,disabled:this.lan.is_auto},domProps:{value:t.lan.ip},on:{input:function(e){e.target.composing||t.$set(t.lan,"ip",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"help-block"},[t._v("IP样式必须为“xxx.xxx.xxx.xxx”,且xxx在0-255之间")])]),t._v(" "),a("div",{staticClass:"form-group input-form-group"},[a("label",{staticClass:" control-label",attrs:{for:this.lan.lan+"_subnet_mask"}},[t._v("子网掩码：")]),t._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lan.subnet_mask,expression:"lan.subnet_mask"}],staticClass:"form-control",attrs:{type:"text",id:this.lan.lan+"_subnet_mask",name:"subnet_mask",placeholder:t.lan.subnet_mask,disabled:this.lan.is_auto},domProps:{value:t.lan.subnet_mask},on:{input:function(e){e.target.composing||t.$set(t.lan,"subnet_mask",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"help-block"},[t._v("子网掩码样式必须为“xxx.xxx.xxx.xxx”,且xxx在0-255之间")])]),t._v(" "),a("div",{staticClass:"form-group input-form-group"},[a("label",{staticClass:" control-label",attrs:{for:this.lan.lan+"_gateway"}},[t._v("网关：")]),t._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lan.gateway,expression:"lan.gateway"}],staticClass:"form-control",attrs:{type:"text",id:this.lan.lan+"_gateway",name:"gateway",placeholder:t.lan.gateway,disabled:this.lan.is_auto},domProps:{value:t.lan.gateway},on:{input:function(e){e.target.composing||t.$set(t.lan,"gateway",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"help-block"},[t._v("网关样式必须为“xxx.xxx.xxx.xxx”,且xxx在0-255之间")])]),t._v(" "),a("div",{staticClass:"form-group input-form-group"},[a("label",{staticClass:" control-label",attrs:{for:this.lan.lan+"_dns"}},[t._v("DNS：")]),t._v(" "),a("div",{staticClass:"input"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.lan.dns,expression:"lan.dns"}],staticClass:"form-control",attrs:{type:"text",id:this.lan.lan+"_dns",name:"dns",placeholder:t.lan.dns,disabled:this.lan.is_auto},domProps:{value:t.lan.dns},on:{input:function(e){e.target.composing||t.$set(t.lan,"dns",e.target.value)}}})]),t._v(" "),a("div",{staticClass:"help-block "},[t._v("dns样式必须为“xxx.xxx.xxx.xxx”,且xxx在0-255之间")])]),t._v(" "),a("div",{staticClass:"form-group btn-form-group"},[a("input",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button",value:"保存"},on:{click:function(e){t.submit()}}}),t._v(" "),a("input",{staticClass:"btn btn-default btn-sm",attrs:{type:"button",value:"重置"},on:{click:function(e){t.reset()}}})])])])},staticRenderFns:[]};var o=function(t){s("JJJR")},n=s("VU/8")(a.a,i,!1,o,"data-v-35f8705e",null);e.a=n.exports},i7jE:function(t,e,s){"use strict";var a={name:"bd_head",components:{},props:{show_reload_vm_list:{type:Boolean,default:!1,required:!1},show_computer_setting:{type:Boolean,default:!1,required:!1},show_reset_pass:{type:Boolean,default:!1,required:!1},show_exit:{type:Boolean,default:!1,required:!1},show_shutdown:{type:Boolean,default:!1,required:!1},vm_show:{type:Boolean,default:!1,required:!1},show_back:{type:Boolean,default:!1,required:!1}},data:function(){return{modalShow:!1,form:{old_pass:{val:"",is_invalid:!1,help_text:"密码不能为空"},new_pass:{val:"",is_invalid:!1,help_text:"密码不能为空"},repeat_pass:{val:"",is_invalid:!1,help_text:"输入的新密码不一致"}}}},methods:{reset_password:function(){var t=this;t.$ajax.get("/api/common_api/api.EditPassword",{params:{password:t.form.old_pass.val,newPassword:t.form.new_pass.val,rePassword:t.form.repeat_pass.val,systemType:t.utils.get_system_typenum()}}).then(function(e){"success"==e.data.errorinfo?(t.$root.alert.success.message="修改密码成功",t.$root.alert.success.is_show=!0,t.$refs.myModalRef.hide()):(t.$root.alert.fail.message=e.data.errorinfo,t.$root.alert.fail.is_show=!0)}).catch(function(e){401!=e.response.status&&(console.log(e.response.data),t.$root.alert.fail.message="修改密码失败",t.$root.alert.fail.is_show=!0)})},exit:function(){var t=this;t.$ajax.get("/api/account/logout").then(function(e){t.$router.push("/login")}).catch(function(e){401!=e.response.status&&(t.$root.alert.fail.is_show=!0,t.$root.alert.fail.message="登出失败")}).finally(function(){})},shutdown:function(){var t=this;t.$ajax.get("/api/operation_system/shutdown").then(function(t){}).catch(function(e){401!=e.response.status&&(t.$root.alert.fail.is_show=!0,t.$root.alert.fail.message="关机失败")}).finally(function(){})}},beforeCreate:function(){}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"my_container"},[s("header",{staticClass:"w-100 position-relative"},[s("div",{staticClass:"logo position-relative"}),t._v(" "),s("div",{staticClass:"buttons ml-auto position-absolute"},[t.show_reload_vm_list?s("div",{staticClass:"refresh button",on:{click:function(e){t.$emit("reload_vm_list")}}},[s("div",{staticClass:"icon"}),t._v(" "),s("div",{staticClass:"text-primary w-100 text-center"},[t._v("刷新")])]):t._e(),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show_computer_setting,expression:"show_computer_setting"}],staticClass:"setting button",on:{click:function(e){t.$emit("computer_setting")}}},[s("div",{staticClass:"icon"}),t._v(" "),s("div",{staticClass:"text-primary w-100 text-center"},[t._v("设置")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show_reset_pass,expression:"show_reset_pass"}],staticClass:"reset_pass button",on:{click:function(e){t.modalShow=!0}}},[s("div",{staticClass:"icon"}),t._v(" "),s("div",{staticClass:"text-primary w-100 text-center"},[t._v("修改密码")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show_exit,expression:"show_exit"}],staticClass:"exit button",on:{click:t.exit}},[s("div",{staticClass:"icon"}),t._v(" "),s("div",{staticClass:"text-primary w-100 text-center"},[t._v("注销")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show_back,expression:"show_back"}],staticClass:"back button",on:{click:function(e){t.$emit("back")}}},[s("div",{staticClass:"icon"}),t._v(" "),s("div",{staticClass:"text-primary w-100 text-center"},[t._v("返回")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show_shutdown,expression:"show_shutdown"}],staticClass:"shutdown button",on:{click:t.shutdown}},[s("div",{staticClass:"icon"}),t._v(" "),s("div",{staticClass:"text-primary w-100 text-center"},[t._v("关机")])])])]),t._v(" "),s("b-modal",{ref:"myModalRef",staticClass:"my-modal",attrs:{centered:"","no-close-on-backdrop":!0},model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[s("div",{staticClass:"w-100",attrs:{slot:"modal-title"},slot:"modal-title"},[s("h3",[t._v("修改密码")])]),t._v(" "),s("div",{attrs:{slot:"modal-header-close"},slot:"modal-header-close"},[s("button",{staticClass:"close",staticStyle:{position:"absolute",top:"1em",right:"1em"},attrs:{type:"button","aria-label":"Close"}},[t._v("×\n      ")])]),t._v(" "),s("form",{staticClass:"w-100"},[s("div",{staticClass:"input w-100 position-relative"},[s("label",{staticClass:"w-25 position-relative"},[t._v("原始密码：")]),t._v(" "),s("div",{staticClass:"w-75 in_help position-absolute"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.old_pass.val,expression:"form.old_pass.val"}],staticClass:"form-control form-control-sm w-100",class:{"is-invalid":t.form.old_pass.is_invalid},attrs:{type:"password",placeholder:"输入密码"},domProps:{value:t.form.old_pass.val},on:{input:function(e){e.target.composing||t.$set(t.form.old_pass,"val",e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback w-100"},[t._v("\n            "+t._s(t.form.old_pass.help_text)+"\n          ")])])]),t._v(" "),s("div",{staticClass:"input w-100 position-relative"},[s("label",{staticClass:"w-25 position-relative"},[t._v("新原密码：")]),t._v(" "),s("div",{staticClass:"w-75 in_help position-absolute"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.new_pass.val,expression:"form.new_pass.val"}],staticClass:"form-control form-control-sm w-100",class:{"is-invalid":t.form.new_pass.is_invalid},attrs:{type:"password",placeholder:"输入密码"},domProps:{value:t.form.new_pass.val},on:{input:function(e){e.target.composing||t.$set(t.form.new_pass,"val",e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(t.form.new_pass.help_text)+"\n          ")])])]),t._v(" "),s("div",{staticClass:"input w-100 position-relative"},[s("label",{staticClass:"w-25 position-relative"},[t._v("确认新密码：")]),t._v(" "),s("div",{staticClass:"w-75 in_help position-absolute"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.form.repeat_pass.val,expression:"form.repeat_pass.val"}],staticClass:"form-control form-control-sm w-100",class:{"is-invalid":t.form.repeat_pass.is_invalid},attrs:{type:"password",placeholder:"输入密码"},domProps:{value:t.form.repeat_pass.val},on:{input:function(e){e.target.composing||t.$set(t.form.repeat_pass,"val",e.target.value)}}}),t._v(" "),s("div",{staticClass:"invalid-feedback"},[t._v("\n            "+t._s(t.form.repeat_pass.help_text)+"\n          ")])])])]),t._v(" "),s("div",{staticClass:"w-100 footer text-right",attrs:{slot:"modal-footer"},slot:"modal-footer"},[s("button",{staticClass:"btn btn-default ",on:{click:function(e){t.modalShow=!1}}},[t._v("取消")]),t._v(" "),s("button",{staticClass:"green_button btn btn-primary ",on:{click:t.reset_password}},[t._v("提交")])])])],1)},staticRenderFns:[]};var o=s("VU/8")(a,i,!1,function(t){s("lKBG")},"data-v-5e2e31c3",null);e.a=o.exports},lKBG:function(t,e){},nKSx:function(t,e,s){"use strict";(function(t){var a=s("Dd8w"),i=s.n(a),o=s("L/hj");function n(e,s,a,i){return e.lan[s].split(".").forEach(function(o,n,r){""!=o&&0<=Number(o)&&Number(o)<=255?(t("#"+e.lan.lan+"_"+s).parents(".form-group").removeClass("has-error"),t("#"+e.lan.lan+"_"+s).parents(".form-group").find(".help-block").hide(),a++):(t("#"+e.lan.lan+"_"+s).parents(".form-group").addClass("has-error"),t("#"+e.lan.lan+"_"+s).parents(".form-group").find(".help-block").show(),i=!1)}),a<4&&(t("#"+e.lan.lan+"_"+s).parents(".form-group").addClass("has-error"),t("#"+e.lan.lan+"_"+s).parents(".form-group").find(".help-block").show(),i=!1),i}e.a={name:"v_tab",props:{lan_data:{type:Object,required:!0,validator:function(t){return o.a.validate_template(t,{lan:"",isActive:!0,is_auto:!1,ip:"",subnet_mask:"",gateway:"",dns:"",mac:""},"lan_data")}},index:{type:Number,required:!0}},data:function(){return{lan:this.lan_data,alert:{success:{message:"修改配置成功",is_show:!1},fail:{message:"修改配置失败",is_show:!1}}}},computed:{},methods:{submit:function(){var e=this,s=!0;if(e.lan.is_auto)e.lan.ip="",e.lan.subnet_mask="",e.lan.gateway="",e.lan.dns="";else for(var a in e.lan){"lan"!=a&&"is_auto"!=a&&"isActive"!=a&&"mac"!=a&&"id"!=a&&("subnet_mask"==a&&Number(e.lan[a])?Number(e.lan[a])>=0&&Number(e.lan[a])<=32?(t("#"+e.lan.lan+"_"+a).parents(".form-group").removeClass("has-error"),t("#"+e.lan.lan+"_"+a).parents(".form-group").find(".help-block").hide()):(t("#"+e.lan.lan+"_"+a).parents(".form-group").addClass("has-error"),t("#"+e.lan.lan+"_"+a).parents(".form-group").find(".help-block").show()):s=n(e,a,0,s))}s&&e.$ajax.post(e.host+"/api/operation_system/save_lan",e.$qs.stringify(e.lan)).then(function(t){e.$root.alert.success.is_show=!0}).catch(function(t){e.$root.alert.fail.is_show=!0})},reset:function(){this.lan=i()({},this.old_data)},clear:function(){this.lan={}}},created:function(){this.old_data=i()({},this.$store.state.old_data_list[this.index])},mounted:function(){t(".help-block").hide()}}}).call(e,s("l/Rs"))},"q/yD":function(t,e){},woOf:function(t,e,s){t.exports={default:s("V3tA"),__esModule:!0}}});
//# sourceMappingURL=0.1cb964f4b55dafaf7b1f.js.map